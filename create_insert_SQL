-- Create employees table
CREATE TABLE employees (
	employee_id INTEGER PRIMARY KEY,
	first_name VARCHAR(50),
	last_name VARCHAR(50),
	email VARCHAR(50),
	hire_date DATE,
	gender VARCHAR(1),
	salary INTEGER,
	coffeeshop_id INTEGER
)
-- Create shops table
CREATE TABLE shops(
	coffeeshop_id INTEGER PRIMARY KEY,
	coffeeshop_name VARCHAR(50),
	city_id INTEGER
)
-- Add foreign key to the employees table
ALTER TABLE employees
ADD FOREIGN KEY (coffeeshop_id)
REFERENCES shops(coffeeshop_id)
ON DELETE SET NULL 
-- Create locations table 
CREATE TABLE locations(
	city_id INTEGER PRIMARY KEY,
	city VARCHAR(50),
	country VARCHAR(50)
)
-- Add foreign key to the shops table
ALTER TABLE shops
ADD FOREIGN KEY (city_id)
REFERENCES locations(city_id)
ON DELETE SET NULL
-- Create suppliers table
CREATE TABLE suppliers(
	coffeeshop_id INTEGER,
	supplier_name VARCHAR(20),
	PRIMARY KEY (coffeeshop_id, supplier_name),
	FOREIGN KEY (coffeeshop_id) REFERENCES shops(coffeeshop_id)
	ON DELETE CASCADE
)
alter table suppliers 
alter column supplier_name type varchar(50)
